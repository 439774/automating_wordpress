---
  - name: Setting up packages for wordpress(some extra just incase)
    hosts: localhost
    connection: local
    tasks:
      - name: ensure a list of packages installed
        yum:
          name: "{{ packages }}"
        vars:
          packages:
          - curl
          - wget
          - git
          - vim
          - tree
      - name: upgrade all packages, excluding kernel & foo related packages
        yum:
          name: '*'
          state: latest
          exclude: kernel*,foo*
      - name: Add the user 'ansible' with a bash shell, Generate SSH key for user 'ansible'
        user:
          name: ansible
          generate_ssh_key: yes
          ssh_key_file: .ssh/id_rsa
      - name: "Read a file content"
        shell: |
          cat ~/.ssh/id_rsa.pub
        register: file_content
      - git_config:
          name: user.name
          value: 439774
      - git_config:
          name: user.email
          value: therealkimbladi@gmail.com
